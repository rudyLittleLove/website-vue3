var n=`\uFEFF<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CSS\u5236\u4F5C\u7C7B\u4F3C Photoshop \u6A21\u7CCA\u8499\u7248\u6548\u679C</title>
  <link rel="stylesheet" href="https://stackedit.io/style.css" />
</head>

<body class="stackedit">
  <div class="stackedit__html"><p></p><div class="toc"><h3>CSS\u5236\u4F5C\u7C7B\u4F3C Photoshop \u6A21\u7CCA\u8499\u7248\u6548\u679C</h3><ul><li><a href="#_1">\u5F15\u8A00</a></li><li><a href="#IEcss_3">\u4E0D\u517C\u5BB9IE\u7684\u7EAFcss\u5B9E\u73B0\u4EE3\u7801</a></li><ul><li><a href="#_4">\u5B9E\u73B0\u4EE3\u7801</a></li><li><a href="#_46">\u5B9E\u73B0\u539F\u7406</a></li></ul><li><a href="#IE10IE11canvas_67">\u517C\u5BB9IE10\uFF0CIE11\u7684\u6A21\u7CCA\u8499\u7248\u6548\u679C\uFF0C\u4F7F\u7528canvas</a></li><ul><li><a href="#_68">\u5B9E\u73B0\u4EE3\u7801</a></li><li><a href="#_213">\u5B9E\u73B0\u539F\u7406</a></li></ul></ul></div><p></p>
<h1><a id="_1"></a>\u5F15\u8A00</h1>
<p>\u4E3A\u4E86\u4F7F\u4E00\u4E2A\u5728\u56FE\u7247\u4E0A\u60AC\u6D6E\u7684\u65B9\u6846\u5448\u73B0\u78E8\u7802\u73BB\u7483\u7684\u6548\u679C\uFF0C\u5C31\u662F\u900F\u8FC7\u8FD9\u4E2A\u65B9\u6846\u770B\u5230\u4E0B\u65B9\u7684\u56FE\u7247\u662F\u6A21\u7CCA\u7684\u8FD9\u6837\u4E00\u4E2A\u6548\u679C\uFF0C\u4EE5\u4E0B\u7528css\u6765\u505A\u4E00\u4E2A\u7B80\u5355\u7684\u6548\u679C\u3002</p>
<h1><a id="IEcss_3"></a>\u4E0D\u517C\u5BB9IE\u7684\u7EAFcss\u5B9E\u73B0\u4EE3\u7801</h1>
<h2><a id="_4"></a>\u5B9E\u73B0\u4EE3\u7801</h2>
<p>\u9996\u5148\u521B\u5EFA\u597D\u80CC\u666F\u4E0E\u6A21\u7CCA\u65B9\u6846\u7684html\u4EE3\u7801</p>
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>bg<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>blur<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre>
<p>\u4EE5\u4E0B\u662Fcss\u4EE3\u7801\uFF0C\u8FD9\u91CC\u662F\u5728\u7F51\u4E0A\u968F\u4FBF\u627E\u7684\u56FE\u7247\uFF0C\u5982\u679C\u56FE\u7247\u5931\u6548\uFF0C\u66FF\u6362\u4E3A\u5176\u4ED6\u56FE\u7247\u94FE\u63A5\u5373\u53EF</p>
<pre><code class="prism language-css"><span class="token selector">html,body</span> <span class="token punctuation">{</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.bg</span> <span class="token punctuation">{</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token property">overflow</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.blur</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 500px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 500px<span class="token punctuation">;</span>
    <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
    <span class="token property">margin</span><span class="token punctuation">:</span> 200px auto 400px<span class="token punctuation">;</span>
    <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #ffffff99<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.blur::before</span> <span class="token punctuation">{</span>
    <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">;</span>
    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
    <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">filter</span><span class="token punctuation">:</span> <span class="token function">blur</span><span class="token punctuation">(</span>4px<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.bg, .blur::before</span> <span class="token punctuation">{</span>
    <span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token url">url(http://file.youlai.cn/cnkfile1/M00/10/46/oYYBAFlU1WWAGvkPAAQlbBVHA7Y81.jpeg)</span><span class="token punctuation">;</span>
    <span class="token property">background-attachment</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span>
    <span class="token property">background-size</span><span class="token punctuation">:</span> cover<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>\u5B9E\u9645\u6548\u679C\u56FE\uFF08\u70B9\u51FB\u6548\u679C\u56FE\u53EF\u67E5\u770Bdemo\u6F14\u793A\uFF09\uFF1A<br>
<a href="http://jsrun.pro/SyfKp"><img src="https://img-blog.csdnimg.cn/20200219184729197.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3J1ZHlfemhvdQ==,size_16,color_FFFFFF,t_70" alt="\u5728\u8FD9\u91CC\u63D2\u5165\u56FE\u7247\u63CF\u8FF0"></a></p>
<h2><a id="_46"></a>\u5B9E\u73B0\u539F\u7406</h2>
<p>\u5C31\u5B9E\u73B0\u539F\u7406\u6765\u8BB2\uFF0C\u5E76\u975E\u8499\u7248\u6548\u679C\uFF0C\u800C\u662F\u4E24\u5C42\u56FE\u7247\u53E0\u52A0\uFF0C\u4E00\u5C42\u56FE\u7247\u5728\u6700\u4E0B\u65B9\u672A\u6A21\u7CCA\u5904\u7406\uFF0C\u4E00\u5C42\u5728\u65B9\u6846\u5185\uFF0C\u505A\u4E86\u6A21\u7CCA\u5904\u7406\uFF08<code>filter: blur(4px)</code>\uFF09</p>
<p><strong><font size="2">\u5176\u5B9E\u5982\u679C\u8003\u8651\u517C\u5BB9\u6240\u6709\uFF0C\u53EF\u4EE5\u4E0D\u7528\u6A21\u7CCA\u5904\u7406\uFF0C\u76F4\u63A5\u7528Photoshop\u628A\u56FE\u7247\u6A21\u7CCA\u4E86\uFF0C\u65B9\u6846\u5185\u5C31\u7528\u6A21\u7CCA\u5904\u7406\u8FC7\u7684\u56FE\u7247\uFF0C\u53EA\u8981\u56FE\u7247\u5C3A\u5BF8\u76F8\u540C\uFF0C\u6548\u679C\u5448\u73B0\u662F\u4E00\u6837\u7684\u3002<font></font></font></strong></p>
<p>\u8BBE\u7F6E\u4E24\u5F20\u56FE\u7247\u7684<code>background-attachment: fixed; background-size: cover;</code>\u6837\u5F0F\uFF0C\u4F7F\u80CC\u666F\u56FE\u50CF\u6269\u5C55\u81F3\u8DB3\u591F\u5927\uFF0C\u4EE5\u4F7F\u80CC\u666F\u56FE\u50CF\u5B8C\u5168\u8986\u76D6\u80CC\u666F\u533A\u57DF\uFF0C\u4EE5\u53CA\u5F53\u9875\u9762\u7684\u5176\u4F59\u90E8\u5206\u6EDA\u52A8\u65F6\uFF0C\u80CC\u666F\u56FE\u50CF\u4E0D\u4F1A\u79FB\u52A8\u3002</p>
<p>\u4EE5\u4E0A\u4E24\u79CD\u6548\u679C\u76F8\u52A0\u4FBF\u505A\u6210\u4E0A\u65B9\u4EE3\u7801\u6F14\u793A\u7684\u6548\u679C\u3002\u56E0\u4E3A\u662F\u4F7F\u7528filter\u4F7F\u56FE\u7247\u6A21\u7CCA\uFF0C\u6240\u4EE5\u5728\u4F7F\u7528<code>filter: progid:DXImageTransform.Microsoft.Blur(Pixel Radius=5\uFF0CMakeShadow=false);</code>\u6837\u5F0F\u65F6\u662F\u80FD\u517C\u5BB9IE6-IE9\u7684\uFF0C\u4F46\u662FIE10\uFF0CIE11\uFF0C\u6CA1\u6709\u4EFB\u4F55\u80FD\u6A21\u7CCA\u56FE\u7247\u7684\u6837\u5F0F\uFF0C\u6240\u4EE5\u60F3\u8981\u5728IE10\u4EE5\u53CAIE11\u4E0B\u4F7F\u7528\uFF0C\u53EF\u4EE5\u4F7F\u7528SVG\u7684filter\u3002<br>
\u4EE3\u7801\u5982\u4E0B</p>
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.w3.org/2000/svg<span class="token punctuation">"</span></span> <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1.1<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>blue<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>blur<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>feGaussianBlur</span> <span class="token attr-name">in</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>SourceGraphic<span class="token punctuation">"</span></span> <span class="token attr-name">stdDeviation</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>image</span> <span class="token attr-name">filter</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>url(#blur)<span class="token punctuation">"</span></span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>200px<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>100px<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">xlink:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://file.youlai.cn/cnkfile1/M00/10/46/oYYBAFlU1WWAGvkPAAQlbBVHA7Y81.jpeg<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">&gt;</span></span>
</code></pre>
<p>\u6548\u679C\u5982\u4E0B<br>
<img src="https://img-blog.csdnimg.cn/20200219190431239.png" alt="\u5728\u8FD9\u91CC\u63D2\u5165\u56FE\u7247\u63CF\u8FF0"><br>
\u8FD9\u91CC\u53EA\u5C55\u793A\u4E86\u7528svg\u7684filter\u6A21\u7CCA\u56FE\u7247\u7684\u6548\u679C\uFF0C\u5982\u679C\u5177\u4F53\u5B9E\u73B0\u53EF\u4EE5\u53C2\u7167\u4E0A\u65B9\u7EAFcss\u5B9E\u73B0\u65B9\u6CD5\uFF0C\u4E0D\u8FC7\u8FD9\u79CD\u65B9\u6CD5\u4E0D\u80FD\u4F7F\u7528<code>background-attachment: fixed; background-size: cover;</code>\u6837\u5F0F\u5E26\u6765\u7684\u6548\u679C\uFF08\u65B9\u6846\u5728\u56FE\u7247\u4E0A\u4F4D\u7F6E\u53D8\u5316\u5448\u73B0\u78E8\u7802\u73BB\u7483\u900F\u89C6\u6548\u679C\uFF09\uFF0C\u800C\u8981\u624B\u52A8\u901A\u8FC7JS\u83B7\u53D6\u4F4D\u7F6E\uFF0C\u5B9A\u4F4D\u4F4D\u7F6E\u3002</p>
<h1><a id="IE10IE11canvas_67"></a>\u517C\u5BB9IE10\uFF0CIE11\u7684\u6A21\u7CCA\u8499\u7248\u6548\u679C\uFF0C\u4F7F\u7528canvas</h1>
<h2><a id="_68"></a>\u5B9E\u73B0\u4EE3\u7801</h2>
<p>html\u4EE3\u7801</p>
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>bg<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>blur-box<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>blur<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>blurID<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre>
<p>css\u4EE3\u7801</p>
<pre><code class="prism language-css"><span class="token selector">html,body</span> <span class="token punctuation">{</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.bg</span> <span class="token punctuation">{</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token property">overflow</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.blur-box</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 500px<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 500px<span class="token punctuation">;</span>
  <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> 200px auto 500px<span class="token punctuation">;</span>
  <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #ffffff<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.blur</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.bg, .blur</span> <span class="token punctuation">{</span>
  <span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token url">url(./oYYBAFlU1WWAGvkPAAQlbBVHA7Y81.jpeg)</span><span class="token punctuation">;</span>
  <span class="token property">background-attachment</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span>
  <span class="token property">background-size</span><span class="token punctuation">:</span> cover<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>js\u4EE3\u7801</p>
<pre><code class="prism language-javascript"><span class="token keyword">function</span> <span class="token function">gaussBlur</span><span class="token punctuation">(</span>imgData<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> pixes <span class="token operator">=</span> imgData<span class="token punctuation">.</span>data<span class="token punctuation">;</span>
    <span class="token keyword">var</span> width <span class="token operator">=</span> imgData<span class="token punctuation">.</span>width<span class="token punctuation">;</span>
    <span class="token keyword">var</span> height <span class="token operator">=</span> imgData<span class="token punctuation">.</span>height<span class="token punctuation">;</span>
    <span class="token keyword">var</span> gaussMatrix <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        gaussSum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
        x<span class="token punctuation">,</span> y<span class="token punctuation">,</span>
        r<span class="token punctuation">,</span> g<span class="token punctuation">,</span> b<span class="token punctuation">,</span> a<span class="token punctuation">,</span>
        i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> k<span class="token punctuation">,</span> len<span class="token punctuation">;</span>

    <span class="token keyword">var</span> radius <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> sigma <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>

    a <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">/</span> <span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">)</span> <span class="token operator">*</span> sigma<span class="token punctuation">)</span><span class="token punctuation">;</span>
    b <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">/</span> <span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">*</span> sigma <span class="token operator">*</span> sigma<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//\u751F\u6210\u9AD8\u65AF\u77E9\u9635</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> x <span class="token operator">=</span> <span class="token operator">-</span>radius<span class="token punctuation">;</span> x <span class="token operator">&lt;=</span> radius<span class="token punctuation">;</span> x<span class="token operator">++</span><span class="token punctuation">,</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        g <span class="token operator">=</span> a <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">exp</span><span class="token punctuation">(</span>b <span class="token operator">*</span> x <span class="token operator">*</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>
        gaussMatrix<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> g<span class="token punctuation">;</span>
        gaussSum <span class="token operator">+=</span> g<span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

    <span class="token comment">//\u5F52\u4E00\u5316, \u4FDD\u8BC1\u9AD8\u65AF\u77E9\u9635\u7684\u503C\u5728[0,1]\u4E4B\u95F4</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> len <span class="token operator">=</span> gaussMatrix<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        gaussMatrix<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">/=</span> gaussSum<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//x \u65B9\u5411\u4E00\u7EF4\u9AD8\u65AF\u8FD0\u7B97</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>y <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> y <span class="token operator">&lt;</span> height<span class="token punctuation">;</span> y<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span>x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> x <span class="token operator">&lt;</span> width<span class="token punctuation">;</span> x<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            r <span class="token operator">=</span> g <span class="token operator">=</span> b <span class="token operator">=</span> a <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            gaussSum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span>j <span class="token operator">=</span> <span class="token operator">-</span>radius<span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> radius<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                k <span class="token operator">=</span> x <span class="token operator">+</span> j<span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>k <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> k <span class="token operator">&lt;</span> width<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">//\u786E\u4FDD k \u6CA1\u8D85\u51FA x \u7684\u8303\u56F4</span>
                    <span class="token comment">//r,g,b,a \u56DB\u4E2A\u4E00\u7EC4</span>
                    i <span class="token operator">=</span> <span class="token punctuation">(</span>y <span class="token operator">*</span> width <span class="token operator">+</span> k<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">4</span><span class="token punctuation">;</span>
                    r <span class="token operator">+=</span> pixes<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">*</span> gaussMatrix<span class="token punctuation">[</span>j <span class="token operator">+</span> radius<span class="token punctuation">]</span><span class="token punctuation">;</span>
                    g <span class="token operator">+=</span> pixes<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">*</span> gaussMatrix<span class="token punctuation">[</span>j <span class="token operator">+</span> radius<span class="token punctuation">]</span><span class="token punctuation">;</span>
                    b <span class="token operator">+=</span> pixes<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">*</span> gaussMatrix<span class="token punctuation">[</span>j <span class="token operator">+</span> radius<span class="token punctuation">]</span><span class="token punctuation">;</span>
                    <span class="token comment">// a += pixes[i + 3] * gaussMatrix[j];</span>
                    gaussSum <span class="token operator">+=</span> gaussMatrix<span class="token punctuation">[</span>j <span class="token operator">+</span> radius<span class="token punctuation">]</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
            i <span class="token operator">=</span> <span class="token punctuation">(</span>y <span class="token operator">*</span> width <span class="token operator">+</span> x<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">4</span><span class="token punctuation">;</span>
            <span class="token comment">// \u9664\u4EE5 gaussSum \u662F\u4E3A\u4E86\u6D88\u9664\u5904\u4E8E\u8FB9\u7F18\u7684\u50CF\u7D20, \u9AD8\u65AF\u8FD0\u7B97\u4E0D\u8DB3\u7684\u95EE\u9898</span>
            <span class="token comment">// console.log(gaussSum)</span>
            pixes<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> r <span class="token operator">/</span> gaussSum<span class="token punctuation">;</span>
            pixes<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> g <span class="token operator">/</span> gaussSum<span class="token punctuation">;</span>
            pixes<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> b <span class="token operator">/</span> gaussSum<span class="token punctuation">;</span>
            <span class="token comment">// pixes[i + 3] = a ;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//y \u65B9\u5411\u4E00\u7EF4\u9AD8\u65AF\u8FD0\u7B97</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> x <span class="token operator">&lt;</span> width<span class="token punctuation">;</span> x<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span>y <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> y <span class="token operator">&lt;</span> height<span class="token punctuation">;</span> y<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            r <span class="token operator">=</span> g <span class="token operator">=</span> b <span class="token operator">=</span> a <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            gaussSum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span>j <span class="token operator">=</span> <span class="token operator">-</span>radius<span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> radius<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                k <span class="token operator">=</span> y <span class="token operator">+</span> j<span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>k <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> k <span class="token operator">&lt;</span> height<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">//\u786E\u4FDD k \u6CA1\u8D85\u51FA y \u7684\u8303\u56F4</span>
                    i <span class="token operator">=</span> <span class="token punctuation">(</span>k <span class="token operator">*</span> width <span class="token operator">+</span> x<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">4</span><span class="token punctuation">;</span>
                    r <span class="token operator">+=</span> pixes<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">*</span> gaussMatrix<span class="token punctuation">[</span>j <span class="token operator">+</span> radius<span class="token punctuation">]</span><span class="token punctuation">;</span>
                    g <span class="token operator">+=</span> pixes<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">*</span> gaussMatrix<span class="token punctuation">[</span>j <span class="token operator">+</span> radius<span class="token punctuation">]</span><span class="token punctuation">;</span>
                    b <span class="token operator">+=</span> pixes<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">*</span> gaussMatrix<span class="token punctuation">[</span>j <span class="token operator">+</span> radius<span class="token punctuation">]</span><span class="token punctuation">;</span>
                    <span class="token comment">// a += pixes[i + 3] * gaussMatrix[j];</span>
                    gaussSum <span class="token operator">+=</span> gaussMatrix<span class="token punctuation">[</span>j <span class="token operator">+</span> radius<span class="token punctuation">]</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
            i <span class="token operator">=</span> <span class="token punctuation">(</span>y <span class="token operator">*</span> width <span class="token operator">+</span> x<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">4</span><span class="token punctuation">;</span>
            pixes<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> r <span class="token operator">/</span> gaussSum<span class="token punctuation">;</span>
            pixes<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> g <span class="token operator">/</span> gaussSum<span class="token punctuation">;</span>
            pixes<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> b <span class="token operator">/</span> gaussSum<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> imgData<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

  <span class="token keyword">var</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'canvas'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> img <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">//\u8FD9\u91CC\u76F4\u63A5\u4FEE\u6539\u56FE\u7247\u7684\u8DEF\u5F84</span>
  img<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">"./oYYBAFlU1WWAGvkPAAQlbBVHA7Y81.jpeg"</span><span class="token punctuation">;</span>
  img<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">//\u8BBE\u7F6Ecanvas\u7684\u5BBD\u9AD8</span>
      canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> img<span class="token punctuation">.</span>height<span class="token punctuation">;</span>
      canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> img<span class="token punctuation">.</span>width<span class="token punctuation">;</span>
      <span class="token comment">//\u5C06\u56FE\u50CF\u7ED8\u5236\u5230canvas\u4E0A\u9762</span>
      ctx<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span>img<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> img<span class="token punctuation">.</span>width<span class="token punctuation">,</span> img<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">//\u4ECE\u753B\u5E03\u56FE\u50CF\u83B7\u53D6</span>
      <span class="token keyword">var</span> data <span class="token operator">=</span> ctx<span class="token punctuation">.</span><span class="token function">getImageData</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> img<span class="token punctuation">.</span>width<span class="token punctuation">,</span> img<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">//\u5C06\u56FE\u50CF\u6570\u636E\u8FDB\u884C\u9AD8\u65AF\u6A21\u7CCA</span>
      <span class="token keyword">var</span> emptyData <span class="token operator">=</span> <span class="token function">gaussBlur</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">//\u5C06\u6A21\u7CCA\u7684\u56FE\u50CF\u6570\u636E\u518D\u6E32\u67D3\u5230\u753B\u5E03\u4E0A\u9762</span>
      ctx<span class="token punctuation">.</span><span class="token function">putImageData</span><span class="token punctuation">(</span>emptyData<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// canvas\u56FE\u50CF\u8F6Cbase64\u683C\u5F0F\uFF0Cdiv\u80CC\u666F\u8BBE\u7F6E\u4E3A\u6B64\u6570\u636E</span>
      document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'blurID'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundImage <span class="token operator">=</span> <span class="token string">'url('</span><span class="token operator">+</span> canvas<span class="token punctuation">.</span><span class="token function">toDataURL</span><span class="token punctuation">(</span> <span class="token string">'image/png'</span><span class="token punctuation">,</span> <span class="token number">1</span> <span class="token punctuation">)</span> <span class="token operator">+</span><span class="token string">')'</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p>\u4EE5\u4E0B\u4E3A\u4EE3\u7801demo\u6587\u4EF6\uFF0C\u56E0\u4E3A<code>getImageData</code> \u65B9\u6CD5\u53D7\u540C\u6E90\u7B56\u7565\u5F71\u54CD\uFF0C\u5916\u94FE\u5F15\u5165\u7684\u56FE\u7247\u4E0D\u80FD\u62FF\u5230\u56FE\u7247\u6570\u636E\uFF0C\u6240\u4EE5\u5728\u672C\u5730\u6D4B\u8BD5\uFF0C\u5C31\u4E00\u4E2A\u6587\u4EF6\u4E00\u4E2A\u56FE\u7247\uFF0C\u5C31\u4E0D\u653E\u5230github\u4E0A\u4E86\uFF0C\u76F4\u63A5\u7528\u7F51\u76D8\u5206\u4EAB\u4E00\u4E0B\u3002</p>
<p><a href="https://pan.baidu.com/s/1RdX3ABOO3I8XN2l-pPXT6Q">\u7F51\u76D8\u5206\u4EAB\u6587\u4EF6\u5BC6\u7801  55wj</a></p>
<h2><a id="_213"></a>\u5B9E\u73B0\u539F\u7406</h2>
<p>\u4E0E\u4EE5\u4E0A\u65B9\u6CD5\u539F\u7406\u4E00\u6837\uFF0C\u53EA\u662F\u5728\u6A21\u7CCA\u56FE\u7247\u8FD9\u4E00\u6B65\u9AA4\u4F7F\u7528\u4E86canvas\uFF0C\u5229\u7528<code>img</code>\u6807\u7B7E\u83B7\u53D6\u5230\u56FE\u7247\uFF0C\u518D\u628A\u56FE\u7247\u6E32\u67D3\u5230canvas\u753B\u5E03\u4E0A\uFF0C\u901A\u8FC7<code>getImageData</code>\u65B9\u6CD5\u83B7\u53D6\u753B\u5E03\u4E0A\u56FE\u7247\u6570\u636E\uFF0C\u4F7F\u7528\u4E0A\u65B9\u4EE3\u7801\u4E2D\u7684<code>gaussBlur</code>\u65B9\u6CD5\u6A21\u7CCA\u5904\u7406\u56FE\u7247\u6570\u636E\uFF0C\u628A\u5904\u7406\u597D\u7684\u6570\u636E\u518D\u6E32\u67D3\u5230\u753B\u5E03\u4E0A\u9762\uFF0C\u628A\u753B\u5E03\u8F6C\u6210base64\u683C\u5F0F\u7684\u6570\u636E\uFF0C\u8D4B\u503C\u5230\u65B9\u6846\u7684\u80CC\u666F\u3002</p>
<p>\u56E0\u4E3A\u8FD9\u91CC\u5199\u7684\u6A21\u7CCA\u7B97\u6CD5\u662F\u5728\u7F51\u4E0A\u968F\u4FBF\u627E\u7684<a href="https://blog.csdn.net/qq_30100043/article/details/83784608">canvas\u6A21\u7CCA\u56FE\u7247</a>\uFF0C\u6240\u4EE5\u4E0D\u80FD\u901A\u8FC7\u914D\u7F6E\u6A21\u7CCA\u534A\u5F84\uFF0C\u53EA\u80FD\u56FA\u5B9A\u6A21\u7CCA\u534A\u5F84\uFF0C\u60F3\u4E86\u89E3\u9AD8\u65AF\u6A21\u7CCA\u7B97\u6CD5\u7684\u540C\u5B66\u53EF\u4EE5\u770B\u962E\u8001\u5E08\u7684\u8FD9\u4E00\u7BC7<a href="http://www.ruanyifeng.com/blog/2012/11/gaussian_blur.html">\u9AD8\u65AF\u6A21\u7CCA\u7684\u7B97\u6CD5</a>\u5199\u51FA\u81EA\u5DF1\u60F3\u8981\u7684\u7B97\u6CD5\u3002\u4E5F\u53EF\u4EE5\u4F7F\u7528\u4E00\u4E2A\u6BD4\u8F83\u6210\u719F\u7684\u63D2\u4EF6<a href="https://www.cnblogs.com/qianduanjingying/p/5843025.html">StackBlur.js</a>\uFF0C</p>
<p>\u4E0A\u65B9demo\u7684\u4EE3\u7801\u7ECF\u6D4B\u8BD5\u76F4\u63A5\u6253\u5F00<code>getImageData</code>\u4F1A\u62A5\u64CD\u4F5C\u4E0D\u5B89\u5168\uFF0CIE\u4E0D\u4F1A\u62A5\u9519\uFF0C\u5982\u679C\u60F3\u5728chrome\u548C\u706B\u72D0\u67E5\u770B\u9700\u8981\u628Ademo\u6587\u4EF6\u653E\u5165\u524D\u7AEF\u8D77\u7684\u670D\u52A1\u4E2D\uFF0C\u63A8\u8350\u5728vscode\u4E2D\u4F7F\u7528Go live\uFF0C\u53EA\u9700\u8981\u5B89\u88C5live server \u63D2\u4EF6\uFF0C\u70B9\u51FB\u53F3\u4E0B\u89D2Go live \u5C31\u53EF\u4EE5\u4EE5\u5F53\u524D\u8F6F\u4EF6\u6253\u5F00\u7684\u6587\u4EF6\u5939\u8D77\u4E00\u4E2A\u524D\u7AEF\u670D\u52A1\uFF0C\u901A\u8FC7\u5730\u5740\u680F\u53EF\u4EE5\u770B\u5230<code>127.0.0.1:5500</code>\uFF0C\u8FD9\u5C31\u662F\u4E00\u4E2A\u672C\u5730\u670D\u52A1\u3002<br>
<strong>\u653E\u4E00\u5F20\u6548\u679C\u56FE</strong><br>
<img src="https://img-blog.csdnimg.cn/2020032813042360.gif" alt="\u4E00\u5F20\u6BD4\u8F83\u957F\u7684\u52A8\u56FE\u6F14\u793A\uFF0C4.3M\uFF0C\u4E0B\u8F7D\u9700\u8981\u4E00\u70B9\u65F6\u95F4"></p>
<p>\u6B64\u65B9\u6CD5\u662F\u901A\u8FC7\u8BA1\u7B97\u56FE\u7247\u4E2D\u6BCF\u4E2A\u50CF\u7D20\u70B9\u7684rgb\u503C\uFF0C\u4E0E\u76F8\u90BB\u50CF\u7D20\u7684rgb\u503C\u53D6\u5E73\u5747\u503C\u7684\u65B9\u6CD5\u6A21\u7CCA\u5904\u7406\u7684\uFF0C\u6240\u4EE5\u56FE\u7247\u8F83\u5927\u65F6\u8BA1\u7B97\u4F1A\u53D8\u6162\uFF0C\u8BF7\u914C\u60C5\u4F7F\u7528\u3002</p>
<p>\u5982\u679C\u9519\u8BEF\u6B22\u8FCE\u6307\u6B63\uFF0C\u8C22\u8C22\u3002</p>
</div>
</body>

</html>
`;export{n as default};
